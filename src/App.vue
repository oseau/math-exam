<template>
  <page size="A4" class="flex flex-col" v-for="page in pages" :key="page">
    <div class="flex flex-1" v-for="(row, idxRow) in page" :key="row">
      <div
        class="flex-auto border-solid border-2"
        v-for="c in row"
        :key="c.num"
      >
        ({{ c.num }})
        {{ String.raw`\(${c.expr}\)` }}
      </div>
    </div>
  </page>
</template>

<script setup>
const exprs = String.raw`
28+72
123+177
220+780
15+21+25+19
70+63+81+37+30+19
====================
17+19+234+21+183+26
(1+11+21+31)+(9+19+29+39)
====================
35+121-35-21
152-19-13+19+223-32
20-11-7
====================
25-(25-14)-(14-7)
57-(50-28)+(44-28)-(57-26)
199+99+9
====================
9+98+397+247
321-199
456-197-98
2580-2547
1596-1296
====================
365+97
365-97
150-85-15
1450-375-203-625
51+62+49+38
====================
64+127+129+23+71+136
2+13+224+3330+6670+676+87+8
====================
73+119+231+69+381+17
375-138+247-175+139-237
====================
82-29-22+259
162-(162-135)-(35-19)
999+599+199
====================
163-(50-18-(153-76+(124-18)
1365-598
====================
3996+449+98+9
1206-199-297-398
93570-93534
====================
45235-38235
465+197
465-197
280-24-76-65-35
====================
267-162+84-38-147+116
267-136+36-167
325-251-34+151-66
====================
38+83-55
(235+523+352)-(111+333+555)
246+462+624-888
====================
125-24+251-240+512-402
11-10+9-8+7-6+5-4+3-2+1
====================
100+102-104+106-108+110-112+114-116+118
====================
21-20+19-18+17-16+15-14+13-12+11
====================
364-(476-187)+213-(324-236)-150
====================
12+23-34+45-56+67-78+89-78+67-56+45-34+23+12
====================
3355+4466+9977-3366-4477-9955
====================
8457-(7630-4578)+(7845-3076)-(6307-5784)-763
`;

const pages = [[[]]];
const ROWS_PER_PAGE = 15;

for (const [idx, expr] of exprs
  .split(/\r?\n/)
  .filter((l) => l.length > 0)
  .entries()) {
  if (expr === "====================") {
    if (pages[pages.length - 1].length === ROWS_PER_PAGE) {
      pages.push([[]]);
    } else {
      pages[pages.length - 1].push([]);
    }
  } else {
    const rows = pages[pages.length - 1];
    rows[rows.length - 1].push({ num: idx + 1, expr });
  }
}
</script>
